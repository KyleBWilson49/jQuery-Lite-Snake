{"version":3,"sources":["webpack/bootstrap 2f76ec932e76e32745bd","./js/main.js","./js/view.js","./js/board.js","./js/snake.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC;;;;;;;ACPD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,oBAAmB,UAAU;AAC7B,sBAAqB,UAAU;AAC/B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;;AAEA;;;;;;;ACrEA;;AAEA;AACA;AACA;;AAEA;;;;;;;ACNA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/js/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 2f76ec932e76e32745bd\n **/","var View = require('./view');\nvar Board = require('./board');\n\n$(function () {\n  var root = $('.snake-game');\n  var board = new Board();\n  new View(root, board);\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/main.js\n ** module id = 0\n ** module chunks = 0\n **/","function View ($el, board) {\n  this.$el = $el;\n  this.board = board;\n  this.setupBoard();\n  this.bindEvents();\n  this.runGame();\n}\n\nView.prototype.bindEvents = function () {\n  var view = this;\n  document.onkeypress = function (e) {\n    view.handleKeyPress(e);\n  };\n};\n\nView.prototype.setupBoard = function () {\n  var $board = $('<ul>');\n\n  for (var row = 0; row < 20; row++) {\n    for (var col = 0; col < 20; col++) {\n      var $square = $('<li>').data('pos', row + ',' + col);\n      $board.append($square);\n    }\n  }\n\n  this.$el.append($board);\n};\n\nView.prototype.handleKeyPress = function(e) {\n  var directions = {\n    119: 'N',\n    115: 'S',\n    97: 'W',\n    100: 'E'\n  };\n  var key = e.which;\n  this.board.snake.turn(directions[key]);\n};\n\nView.prototype.runGame = function () {\n  var view = this;\n  setInterval(function () {\n    view.takeTurn();\n  }, 500);\n};\n\nView.prototype.takeTurn = function () {\n  this.board.snake.move();\n  this.drawBoard();\n};\n\nView.prototype.drawBoard = function () {\n  var oldSnakes = [].slice.call($('.snake'));\n  oldSnakes.forEach(function (el) {\n    $(el).removeClass('snake');\n  });\n\n  var currentSnake = this.board.snake.segments;\n  var squares =[].slice.call($('li'));\n\n  squares.forEach(function (square) {\n    currentSnake.forEach(function (pos) {\n      if (pos.toString() == $(square).data('pos')) {\n        $(square).addClass('snake');\n      }\n    });\n  });\n};\n\nmodule.exports = View;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/view.js\n ** module id = 1\n ** module chunks = 0\n **/","var Snake = require('./snake');\n\nfunction Board () {\n  this.snake = new Snake('E');\n}\n\nmodule.exports = Board;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/board.js\n ** module id = 2\n ** module chunks = 0\n **/","function Snake (direction) {\n  this.dir = direction;\n  this.segments = [[0,1],[0,0]];\n}\n\nSnake.prototype.move = function () {\n  var directions = {\n    N: [-1, 0],\n    S: [1, 0],\n    E: [0, 1],\n    W: [0, -1]\n  };\n\n  var head = this.segments[0];\n  var moveDir = directions[this.dir];\n  var newPos = [head[0] + moveDir[0], head[1] + moveDir[1]];\n  \n  this.segments.unshift(newPos);\n  this.segments.pop();\n};\n\nSnake.prototype.turn = function (newDirection) {\n  this.dir = newDirection;\n};\n\nmodule.exports = Snake;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/snake.js\n ** module id = 3\n ** module chunks = 0\n **/"],"sourceRoot":""}